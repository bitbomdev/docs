"use strict";(self.webpackChunkbitbom=self.webpackChunkbitbom||[]).push([[41],{8623:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>t});var s=i(4848),l=i(8453);const d={sidebar_position:1},r="Minefield CLI",a={id:"minefield-cli/usage",title:"Minefield CLI",description:"Query",source:"@site/docs/minefield-cli/usage.md",sourceDirName:"minefield-cli",slug:"/minefield-cli/usage",permalink:"/docs/minefield-cli/usage",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Minefield CLI",permalink:"/docs/category/minefield-cli"},next:{title:"Minefield Paper",permalink:"/docs/category/minefield-paper"}},c={},t=[{value:"Query",id:"query",level:2},{value:"Available Commands",id:"available-commands",level:3},{value:"dependencies",id:"dependencies",level:4},{value:"dependents",id:"dependents",level:4},{value:"and",id:"and",level:4},{value:"or",id:"or",level:4},{value:"xor",id:"xor",level:4},{value:"Examples",id:"examples",level:3},{value:"Flags",id:"flags",level:3},{value:"Leaderboard",id:"leaderboard",level:2},{value:"Custom Leaderboard",id:"custom-leaderboard",level:3},{value:"Usage",id:"usage",level:4},{value:"Examples",id:"examples-1",level:4},{value:"Flags",id:"flags-1",level:4},{value:"allKeys",id:"allkeys",level:3},{value:"Usage",id:"usage-1",level:4},{value:"Flags",id:"flags-2",level:4},{value:"Cache",id:"cache",level:2},{value:"Usage",id:"usage-2",level:3},{value:"Flags",id:"flags-3",level:3},{value:"Ingest",id:"ingest",level:2},{value:"SBOM",id:"sbom",level:3},{value:"Usage",id:"usage-3",level:4}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"minefield-cli",children:"Minefield CLI"})}),"\n",(0,s.jsx)(n.h2,{id:"query",children:"Query"}),"\n",(0,s.jsx)(n.p,{children:"Custom queries allow users to perform complex searches by combining multiple commands. These queries can be used to analyze the relationships between different nodes in the graph."}),"\n",(0,s.jsx)(n.p,{children:"When running a custom query, there are multiple commands that can be used. For example, the custom command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'minefield query "dependencies library pkg:generic/dep1@1.0.0 and dependencies library pkg:generic/lib-A@1.0.0"\n'})}),"\n",(0,s.jsx)(n.p,{children:'This custom command uses the commands "dependencies" and "and".'}),"\n",(0,s.jsx)(n.h3,{id:"available-commands",children:"Available Commands"}),"\n",(0,s.jsx)(n.h4,{id:"dependencies",children:"dependencies"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Retrieves all dependencies of a specified node."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Usage"}),": ",(0,s.jsx)(n.code,{children:"dependencies <node_type> <node_name>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example"}),": ",(0,s.jsx)(n.code,{children:"dependencies library pkg:generic/dep1@1.0.0"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"dependents",children:"dependents"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Retrieves all dependents of a specified node."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Usage"}),": ",(0,s.jsx)(n.code,{children:"dependents <node_type> <node_name>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example"}),": ",(0,s.jsx)(n.code,{children:"dependents library pkg:generic/dep1@1.0.0"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"and",children:"and"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Combines two queries with a logical AND, returning nodes that satisfy both conditions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Usage"}),": ",(0,s.jsx)(n.code,{children:"<query1> and <query2>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example"}),": ",(0,s.jsx)(n.code,{children:"dependencies library pkg:generic/dep1@1.0.0 and dependencies library pkg:generic/lib-A@1.0.0"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"or",children:"or"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Combines two queries with a logical OR, returning nodes that satisfy either condition."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Usage"}),": ",(0,s.jsx)(n.code,{children:"<query1> or <query2>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example"}),": ",(0,s.jsx)(n.code,{children:"dependencies library pkg:generic/dep1@1.0.0 or dependencies library pkg:generic/lib-A@1.0.0"})]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"xor",children:"xor"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Combines two queries with a logical XOR, returning nodes that satisfy one condition but not both."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Usage"}),": ",(0,s.jsx)(n.code,{children:"<query1> xor <query2>"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Example"}),": ",(0,s.jsx)(n.code,{children:"dependencies library pkg:generic/dep1@1.0.0 xor dependencies library pkg:generic/lib-A@1.0.0"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.p,{children:["To find the dependencies shared by ",(0,s.jsx)(n.code,{children:"dep1"})," and ",(0,s.jsx)(n.code,{children:"lib-A"}),", you can use the following custom query:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'minefield query "dependencies library pkg:generic/dep1@1.0.0 and dependencies library pkg:generic/lib-A@1.0.0"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This query will return all nodes that are dependencies of both ",(0,s.jsx)(n.code,{children:"dep1"})," and ",(0,s.jsx)(n.code,{children:"lib-A"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"flags",children:"Flags"}),"\n",(0,s.jsx)(n.p,{children:"--visualize : This flag will visualize the query, by creating a graph of the nodes and edges."}),"\n",(0,s.jsx)(n.p,{children:"--addr : This flag will specify the port that the visualization will be hosted on."}),"\n",(0,s.jsx)(n.p,{children:"--outputdir: This flag will specify the directory that the query will be saved to, the query will be saved as a files in the directory, with the name of each file being the name of the node in that query, the the file wil contain the metadata of the node."}),"\n",(0,s.jsx)(n.p,{children:"--max-output: This flag will specify the maximum number of nodes that the query will return."}),"\n",(0,s.jsx)(n.h2,{id:"leaderboard",children:"Leaderboard"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"leaderboard"})," command is used to generate a leaderboard of nodes based on a specified query, sorted by the number of nodes returned by the query."]}),"\n",(0,s.jsx)(n.h3,{id:"custom-leaderboard",children:"Custom Leaderboard"}),"\n",(0,s.jsxs)(n.p,{children:["To create a custom leaderboard, you can use the ",(0,s.jsx)(n.code,{children:"leaderboard custom"})," command."]}),"\n",(0,s.jsx)(n.h4,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"minefield leaderboard custom <query>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"examples-1",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:"To create a leaderboard of based on there dependents, you can use the following command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'minefield leaderboard custom "dependents library"\n'})}),"\n",(0,s.jsx)(n.p,{children:"This will generate a leaderboard of nodes based on the number of dependents they have."}),"\n",(0,s.jsx)(n.p,{children:"We can also sort by the number of circular dependencies a node has."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:'minefield leaderboard custom "dependents library and depedencies library"\n'})}),"\n",(0,s.jsx)(n.p,{children:"if a node has dependents that are also dependencies, they will pop up on this query, and we will be sorting by the length of the output of the query."}),"\n",(0,s.jsx)(n.p,{children:"As you can see, this command differs from the 'query' command's script, since we do not a node. This is because we are running this query on every single node, and then sorting them by the length of the output of the query."}),"\n",(0,s.jsx)(n.p,{children:"This command can only be run after running the cache ."}),"\n",(0,s.jsx)(n.h4,{id:"flags-1",children:"Flags"}),"\n",(0,s.jsx)(n.p,{children:"--max-output: This flag will specify the maximum number of nodes that the query will return."}),"\n",(0,s.jsx)(n.p,{children:"--concurrency: This flag will specify the number of concurrent queries that the leaderboard will run, this is useful for speeding up the query."}),"\n",(0,s.jsx)(n.p,{children:"--all: shows the queries for each node, instead of the size of the output."}),"\n",(0,s.jsx)(n.h3,{id:"allkeys",children:"allKeys"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"allKeys"})," command is used to generate a list of all the keys in the graph. This does not need the cache command to be run first, since allKeys does not sort by any value, it just returns all the keys in the graph."]}),"\n",(0,s.jsx)(n.h4,{id:"usage-1",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"minefield leaderboard allKeys\n"})}),"\n",(0,s.jsx)(n.h4,{id:"flags-2",children:"Flags"}),"\n",(0,s.jsx)(n.p,{children:"--max-output: This flag will specify the maximum number of nodes that the query will return."}),"\n",(0,s.jsx)(n.h2,{id:"cache",children:"Cache"}),"\n",(0,s.jsx)(n.h3,{id:"usage-2",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"minefield cache\n"})}),"\n",(0,s.jsx)(n.h3,{id:"flags-3",children:"Flags"}),"\n",(0,s.jsx)(n.p,{children:"--clear : This flag will clear the cache, removing all cached, but leaving the graph unchanged."}),"\n",(0,s.jsx)(n.h2,{id:"ingest",children:"Ingest"}),"\n",(0,s.jsx)(n.h3,{id:"sbom",children:"SBOM"}),"\n",(0,s.jsx)(n.h4,{id:"usage-3",children:"Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"minefield ingest sbom <sbom_file or directory>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(6540);const l={},d=s.createContext(l);function r(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);