"use strict";(self.webpackChunkbitbom_docs=self.webpackChunkbitbom_docs||[]).push([[9148],{1434:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>t});var d=n(4848),r=n(8453);const s={sidebar_position:1},l="Minefield CLI",c={id:"minefield-cli",title:"Minefield CLI",description:"For any command, Minefield requires Redis to be running at localhost",source:"@site/docs/minefield-cli.md",sourceDirName:".",slug:"/minefield-cli",permalink:"/docs/minefield-cli",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docs",previous:{title:"Installation",permalink:"/docs/getting-started"},next:{title:"Minefield Paper",permalink:"/docs/minefield-paper"}},o={},t=[{value:"Commands",id:"commands",level:2},{value:"<code>minefield start-service</code>",id:"minefield-start-service",level:3},{value:"<code>minefield query custom &lt;query&gt;</code>",id:"minefield-query-custom-query",level:3},{value:"<code>minefield query output &lt;node_name&gt;</code>",id:"minefield-query-output-node_name",level:3},{value:"<code>minefield query globsearch &lt;pattern&gt;</code>",id:"minefield-query-globsearch-pattern",level:3},{value:"<code>minefield leaderboard custom &lt;query&gt;</code>",id:"minefield-leaderboard-custom-query",level:3},{value:"<code>minefield leaderboard allKeys</code>",id:"minefield-leaderboard-allkeys",level:3},{value:"<code>minefield cache</code>",id:"minefield-cache",level:3},{value:"<code>minefield ingest sbom &lt;file_or_directory&gt;</code>",id:"minefield-ingest-sbom-file_or_directory",level:3},{value:"<code>minefield ingest osv ingest &lt;file_or_directory&gt;</code>",id:"minefield-ingest-osv-ingest-file_or_directory",level:3},{value:"<code>minefield ingest scorecard load &lt;file_or_directory&gt;</code>",id:"minefield-ingest-scorecard-load-file_or_directory",level:3}];function a(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.header,{children:(0,d.jsx)(i.h1,{id:"minefield-cli",children:"Minefield CLI"})}),"\n",(0,d.jsxs)(i.p,{children:["For any command, Minefield requires Redis to be running at ",(0,d.jsx)(i.code,{children:"localhost:6379"}),". You can start Redis using:"]}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-sh",children:"make docker-up\n"})}),"\n",(0,d.jsx)(i.h2,{id:"commands",children:"Commands"}),"\n",(0,d.jsx)(i.h3,{id:"minefield-start-service",children:(0,d.jsx)(i.code,{children:"minefield start-service"})}),"\n",(0,d.jsx)(i.p,{children:"Starts the Minefield API server, which is required for many operations."}),"\n",(0,d.jsx)(i.h3,{id:"minefield-query-custom-query",children:(0,d.jsx)(i.code,{children:"minefield query custom <query>"})}),"\n",(0,d.jsx)(i.p,{children:"Executes complex searches by combining multiple commands to analyze relationships between nodes in the graph."}),"\n",(0,d.jsx)(i.p,{children:"Example:"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-sh",children:'minefield query custom "dependencies library pkg:generic/dep1@1.0.0 and dependencies library pkg:generic/lib-A@1.0.0"\n'})}),"\n",(0,d.jsx)(i.p,{children:"Available operators:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"dependencies"}),": Retrieves all dependencies of a node"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"dependents"}),": Retrieves all dependents of a node"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"and"}),": Combines queries with logical AND"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"or"}),": Combines queries with logical OR"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"xor"}),": Combines queries with logical XOR"]}),"\n"]}),"\n",(0,d.jsx)(i.p,{children:"Flags:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--visualize"}),": Creates a graph visualization"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--addr"}),": Specifies visualization port"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--max-output"}),": Limits number of returned nodes"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--save-query"}),": Saves query to file"]}),"\n"]}),"\n",(0,d.jsx)(i.h3,{id:"minefield-query-output-node_name",children:(0,d.jsx)(i.code,{children:"minefield query output <node_name>"})}),"\n",(0,d.jsx)(i.p,{children:"Outputs metadata of a specified node to terminal or file."}),"\n",(0,d.jsx)(i.p,{children:"Example:"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-sh",children:"minefield query output pkg:generic/dep1@1.0.0\n"})}),"\n",(0,d.jsx)(i.p,{children:"Flags:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--output-file"}),": Specifies output file location"]}),"\n"]}),"\n",(0,d.jsx)(i.h3,{id:"minefield-query-globsearch-pattern",children:(0,d.jsx)(i.code,{children:"minefield query globsearch <pattern>"})}),"\n",(0,d.jsx)(i.p,{children:"Searches for nodes matching a glob pattern. Can be run without cache."}),"\n",(0,d.jsx)(i.p,{children:"Flags:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--max-output"}),": Limits number of results"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--save-query"}),": Saves query to file"]}),"\n"]}),"\n",(0,d.jsx)(i.p,{children:"Example:"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-sh",children:'minefield query globsearch "*dep*"\n'})}),"\n",(0,d.jsx)(i.h3,{id:"minefield-leaderboard-custom-query",children:(0,d.jsx)(i.code,{children:"minefield leaderboard custom <query>"})}),"\n",(0,d.jsx)(i.p,{children:"Generates a sorted leaderboard of nodes based on query results. Requires cache to be run first."}),"\n",(0,d.jsx)(i.p,{children:"Flags:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--max-output"}),": Limits number of results"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--concurrency"}),": Sets number of concurrent queries"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--all"}),": Shows full queries instead of just sizes"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--save-query"}),": Saves query to file"]}),"\n"]}),"\n",(0,d.jsx)(i.p,{children:"Example:"}),"\n",(0,d.jsx)(i.pre,{children:(0,d.jsx)(i.code,{className:"language-sh",children:'minefield leaderboard custom "dependents library pkg:generic/dep1@1.0.0"\n'})}),"\n",(0,d.jsx)(i.h3,{id:"minefield-leaderboard-allkeys",children:(0,d.jsx)(i.code,{children:"minefield leaderboard allKeys"})}),"\n",(0,d.jsx)(i.p,{children:"Lists all keys in the graph. No cache required."}),"\n",(0,d.jsx)(i.p,{children:"Flags:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--max-output"}),": Limits number of results"]}),"\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--save-query"}),": Saves query to file"]}),"\n"]}),"\n",(0,d.jsx)(i.h3,{id:"minefield-cache",children:(0,d.jsx)(i.code,{children:"minefield cache"})}),"\n",(0,d.jsx)(i.p,{children:"Builds an index of graph data for faster queries. Required before using custom leaderboards."}),"\n",(0,d.jsx)(i.p,{children:"Flags:"}),"\n",(0,d.jsxs)(i.ul,{children:["\n",(0,d.jsxs)(i.li,{children:[(0,d.jsx)(i.code,{children:"--clear"}),": Removes cached data while preserving graph"]}),"\n"]}),"\n",(0,d.jsx)(i.h3,{id:"minefield-ingest-sbom-file_or_directory",children:(0,d.jsx)(i.code,{children:"minefield ingest sbom <file_or_directory>"})}),"\n",(0,d.jsx)(i.p,{children:"Ingests SBOM data into the graph."}),"\n",(0,d.jsx)(i.h3,{id:"minefield-ingest-osv-ingest-file_or_directory",children:(0,d.jsx)(i.code,{children:"minefield ingest osv ingest <file_or_directory>"})}),"\n",(0,d.jsxs)(i.p,{children:["Adds the ",(0,d.jsx)(i.a,{href:"https://google.github.io/osv.dev/data/#data-dumps",children:"OSV"})," data into graph. Accepts JSON files, directories, or zip files."]}),"\n",(0,d.jsx)(i.h3,{id:"minefield-ingest-scorecard-load-file_or_directory",children:(0,d.jsx)(i.code,{children:"minefield ingest scorecard load <file_or_directory>"})}),"\n",(0,d.jsxs)(i.p,{children:["Adds the ",(0,d.jsx)(i.a,{href:"https://github.com/ossf/scorecard",children:"OpenSSF Scorecard"})," data into graph. Accepts JSON files, directories, or zip files."]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,d.jsx)(i,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>c});var d=n(6540);const r={},s=d.createContext(r);function l(e){const i=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),d.createElement(s.Provider,{value:i},e.children)}}}]);